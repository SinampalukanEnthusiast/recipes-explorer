<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Recipes Explorer</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body
    class="w-screen h-screen roboto-slab"
    style="margin: 0; margin-bottom: 50px"
  >
    <nav class="flex justify-between font-bold text-2xl" style="height: 75px">
      <a href="/recipes-explorer" class="h-full flex align-center" style="padding-left: 30px"
        >Recipes</a
      >
      <div class="flex" style="padding-right: 30px">
        <a class="h-full flex align-center" style="padding-left: 30px">About</a>
        <a class="h-full flex align-center" style="padding-left: 30px"
          >Others</a
        >
      </div>
    </nav>
    <div class="global-margin">
      <h1 class="roboto-slab">Delicious Pasta Recipe</h1>
      <div class="w-full" style="height: 200px">
        <img
          src="https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80"
          width="100%"
          height="100%"
          style="object-fit: cover"
          alt=""
        />
      </div>
      <div class="flex font-semiregular" style="line-height: 1.9">
        <div class="w-half">
          <p>
            This delicious pasta recipe features a combination of fresh
            ingredients, including tomatoes, garlic, basil, and olive oil. It's
            a classic Italian dish that is loved by many pasta enthusiasts
            around the world. The pasta is cooked al dente, which means it's
            firm to the bite and perfectly cooked. The sauce is made from
            tomatoes, garlic, and basil, giving it a rich and aromatic flavor.
            The pasta is then tossed in the sauce, allowing it to absorb the
            flavors and create a mouthwatering dish. Top it off with some grated
            Parmesan cheese and a sprinkle of fresh basil leaves for an extra
            touch of freshness. This delicious pasta recipe is perfect for a
            quick and satisfying meal that the whole family will enjoy.
          </p>
          <div class="">
            <div
              class="bg-light-green"
              style="padding-top: 5px; padding-left: 20px; padding-bottom: 10px"
            >
              <h2>Ingredients:</h2>
              <ul>
                <li>8 oz (225g) pasta</li>
                <li>2 cloves garlic, minced</li>
                <li>2 tbsp olive oil</li>
                <li>1 can (14 oz/400g) crushed tomatoes</li>
                <li>1/2 tsp dried basil</li>
                <li>Salt and pepper to taste</li>
                <li>Grated Parmesan cheese, for serving</li>
                <li>Fresh basil leaves, for garnish</li>
              </ul>
            </div>
            <div>
              <h2>Instructions:</h2>
              <ol>
                <li>
                  Cook the pasta according to the package instructions until al
                  dente. Drain and set aside.
                </li>
                <li>
                  In a large skillet, heat the olive oil over medium heat. Add
                  the minced garlic and saut√© until fragrant, about 1 minute.
                </li>
                <li>
                  Add the crushed tomatoes and dried basil to the skillet. Stir
                  well and let the sauce simmer for about 10 minutes to allow
                  the flavors to meld together. Season with salt and pepper to
                  taste.
                </li>
                <li>
                  Add the cooked pasta to the skillet with the sauce. Toss until
                  the pasta is well coated with the sauce.
                </li>
                <li>
                  Serve the pasta in individual bowls. Sprinkle grated Parmesan
                  cheese on top and garnish with fresh basil leaves.
                </li>
              </ol>
              Enjoy the delicious pasta dish with your loved ones and savor the
              flavors of the fresh ingredients and aromatic sauce. Buon
              appetito!
            </div>
          </div>
        </div>
        <div class="w-half" style="padding-left: 30px">
          <h1 style="text-decoration: underline">Watch</h1>
          <iframe
            width="100%"
            height="350px"
            src="https://www.youtube.com/embed/i30XVDhcqxU"
            title="Delicious Pasta Recipe"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
            class="not-sticky"
            style="padding-top: 10px"
          ></iframe>
        </div>
      </div>
      <div class="" style="padding: 20px 0px 0px 20px; padding-bottom: 120px">
        <hr />
        <h1 class="">Comments</h1>
        <div class="rounded">
          <form
            style="padding-bottom: 20px"
            name="submit-to-google-sheet"
            class="w-full flex"
          >
            <div class="w-half">
              <input
                required
                type="text"
                placeholder="Enter your name"
                class="roboto-slab"
                style="margin-bottom: 10px"
                name="name"
              />
              <textarea
                name="comment"
                id=""
                cols="30"
                rows="10"
                placeholder="Enter your thoughts on this recipe..."
                class="w-full"
              ></textarea>
              <input type="submit" />
            </div>
            <div class="w-half" style="margin-left: 40px">
              <div class="flex justify-center align-center">
                <label for="bad" style="width: 150px">Bad</label><br />
                <input
                  required
                  type="radio"
                  name="rating"
                  value="Bad"
                  id="bad"
                />
              </div>
              <div class="flex justify-center align-center">
                <label for="alright" style="width: 150px">Alright</label><br />
                <input
                  required
                  type="radio"
                  name="rating"
                  value="Alright"
                  id="alright"
                />
              </div>

              <div class="flex justify-center align-center">
                <label for="awesome" style="width: 150px">Awesome</label><br />
                <input
                  required
                  type="radio"
                  name="rating"
                  value="Awesome"
                  id="awesome"
                />
              </div>
              <div class="flex justify-center align-center">
                <label for="rating" style="width: 150px">Recommended</label
                ><br />
                <input
                  type="checkbox"
                  name="recommended"
                  id="rating"
                  value="true"
                />
              </div>
            </div>
          </form>
          <div class="flex flex-column" style="gap: 10px" id="comment_section">
            <div class="bg-light-green" style="padding: 15px">
              <span class="font-bold">Anonymous User says... </span>
              <p class="indent">Sarap nyan bro!</p>
              <span class="indent font-semiregular"
                >Rating: Awesome | Recommended : YES
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
    const scriptURL =
      "https://script.google.com/macros/s/AKfycbzVKiD5xUrErMvDVREiScTB7i2Fel64D5jUirI_pOQmQBrdQYaUpMMpEZ58C-pgT5LIDQ/exec";
    const form = document.forms["submit-to-google-sheet"];

    form.addEventListener("submit", (e) => {
      fetch(scriptURL, { method: "POST", body: new FormData(form) })
        .then((response) => {
          console.log("Success!", response);
        })
        .catch((error) => console.error("Error!", error.message));
    });
  </script>
  <script>
    const section = document.querySelector("#comment_section");
    console.log(section);
    const response = fetch(scriptURL, {
      method: "GET",
    })
      .then((res) => res.json())
      .then((data) => {
        console.log(data);
        // return data;
        data.forEach((item) => {
          const div = document.createElement("div");
          const span = document.createElement("span");
          const p = document.createElement("p");
          const span2 = document.createElement("span");

          div.className = "bg-light-green";
          div.style.padding = "15px";

          span.innerHTML = `${item.name} says...`;
          span.className = "font-bold";
          span2.className = "indent font-semiregular";
          span2.innerHTML = `Rating: ${item.rating} | Recommended: ${
            item.recommended ? "YES" : "NO"
          }`;
          p.className = "indent";
          p.innerText = `${item.comment}`;
          div.appendChild(span);
          div.appendChild(p);
          div.appendChild(span2);
          section.appendChild(div);
        });
      });
  </script>
</html>
