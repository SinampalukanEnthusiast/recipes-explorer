<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Recipes Explorer</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body
    class="w-screen h-screen roboto-slab"
    style="margin: 0; margin-bottom: 50px"
  >
    <nav class="flex justify-between font-bold text-2xl" style="height: 75px">
      <a href="/" class="h-full flex align-center" style="padding-left: 30px"
        >Recipes</a
      >
      <div class="flex" style="padding-right: 30px">
        <a class="h-full flex align-center" style="padding-left: 30px">About</a>
        <a class="h-full flex align-center" style="padding-left: 30px"
          >Others</a
        >
      </div>
    </nav>
    <div class="global-margin">
      <h1 class="roboto-slab">Mouthwatering Grilled Chicken</h1>
      <div class="w-full" style="height: 200px">
        <img
          src="https://images.unsplash.com/photo-1592011432621-f7f576f44484?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80"
          width="100%"
          height="100%"
          style="object-fit: cover"
          alt=""
        />
      </div>
      <div class="flex font-semiregular" style="line-height: 1.9">
        <div class="w-half">
          <p>
            Experience the juiciness and smoky flavor of mouthwatering grilled
            chicken. This recipe features marinated chicken thighs or breasts
            grilled to perfection, resulting in tender and flavorful meat. The
            marinade is a combination of savory spices, herbs, and tangy citrus
            that enhances the natural taste of the chicken. Serve it with your
            favorite side dishes for a satisfying and delicious meal.
          </p>
          <div class="">
            <div
              class="bg-light-green"
              style="padding-top: 5px; padding-left: 20px; padding-bottom: 10px"
            >
              <h2>Ingredients:</h2>
              <ul>
                <li>4 chicken thighs or breasts</li>
                <li>2 tablespoons olive oil</li>
                <li>2 cloves garlic, minced</li>
                <li>1 teaspoon paprika</li>
                <li>1 teaspoon dried oregano</li>
                <li>1/2 teaspoon salt</li>
                <li>1/4 teaspoon black pepper</li>
                <li>Juice of 1 lemon</li>
              </ul>
            </div>
            <div>
              <h2>Instructions:</h2>
              <ol>
                <li>
                  In a small bowl, combine the olive oil, minced garlic,
                  paprika, dried oregano, salt, black pepper, and lemon juice to
                  make the marinade.
                </li>
                <li>
                  Place the chicken thighs or breasts in a resealable plastic
                  bag or a shallow dish. Pour the marinade over the chicken and
                  coat each piece evenly. Marinate in the refrigerator for at
                  least 1 hour, or overnight for more intense flavor.
                </li>
                <li>
                  Preheat the grill to medium-high heat. Make sure the grill
                  grates are clean and lightly oiled to prevent sticking.
                </li>
                <li>
                  Remove the chicken from the marinade and discard the remaining
                  marinade. Place the chicken on the grill and cook for 6-8
                  minutes per side, or until the internal temperature reaches
                  165°F (74°C) using a meat thermometer.
                </li>
                <li>
                  Once cooked, remove the chicken from the grill and let it rest
                  for a few minutes before serving. This allows the juices to
                  redistribute and keeps the meat tender and juicy.
                </li>
                <li>
                  Serve the mouthwatering grilled chicken with your favorite
                  side dishes, such as roasted vegetables, salad, or grilled
                  corn.
                </li>
              </ol>
            </div>
          </div>
        </div>
        <div class="w-half" style="padding-left: 30px">
          <h1 style="text-decoration: underline">Watch</h1>
          <iframe
            width="100%"
            height="350px"
            src="https://www.youtube.com/embed/a-2n_g4AdDM"
            title="Grilled Chicken Recipe"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            class="not-sticky"
            style="padding-top: 10px"
          ></iframe>
        </div>
      </div>
      <div class="" style="padding: 20px 0px 0px 20px; padding-bottom: 120px">
        <hr />
        <h1 class="">Comments</h1>
        <div class="rounded">
          <form
            style="padding-bottom: 20px"
            name="submit-to-google-sheet"
            class="w-full flex"
          >
            <div class="w-half">
              <input
                required
                type="text"
                placeholder="Enter your name"
                class="roboto-slab"
                style="margin-bottom: 10px"
                name="name"
              />
              <textarea
                name="comment"
                id=""
                cols="30"
                rows="10"
                placeholder="Enter your thoughts on this recipe..."
                class="w-full"
              ></textarea>
              <input type="submit" />
            </div>
            <div class="w-half" style="margin-left: 40px">
              <div class="flex justify-center align-center">
                <label for="bad" style="width: 150px">Bad</label><br />
                <input
                  required
                  type="radio"
                  name="rating"
                  value="Bad"
                  id="bad"
                />
              </div>
              <div class="flex justify-center align-center">
                <label for="alright" style="width: 150px">Alright</label><br />
                <input
                  required
                  type="radio"
                  name="rating"
                  value="Alright"
                  id="alright"
                />
              </div>

              <div class="flex justify-center align-center">
                <label for="awesome" style="width: 150px">Awesome</label><br />
                <input
                  required
                  type="radio"
                  name="rating"
                  value="Awesome"
                  id="awesome"
                />
              </div>
              <div class="flex justify-center align-center">
                <label for="rating" style="width: 150px">Recommended</label
                ><br />
                <input
                  type="checkbox"
                  name="recommended"
                  id="rating"
                  value="true"
                />
              </div>
            </div>
          </form>
          <div
            class="flex flex-column"
            style="gap: 10px"
            id="comment_section"
          ></div>
        </div>
      </div>
    </div>
  </body>
  <script>
    const scriptURL =
      "https://script.google.com/macros/s/AKfycbzVKiD5xUrErMvDVREiScTB7i2Fel64D5jUirI_pOQmQBrdQYaUpMMpEZ58C-pgT5LIDQ/exec";
    const form = document.forms["submit-to-google-sheet"];

    form.addEventListener("submit", (e) => {
      fetch(scriptURL, { method: "POST", body: new FormData(form) })
        .then((response) => {
          console.log("Success!", response);
        })
        .catch((error) => console.error("Error!", error.message));
    });
  </script>
  <script>
    const section = document.querySelector("#comment_section");
    console.log(section);
    const response = fetch(scriptURL, {
      method: "GET",
    })
      .then((res) => res.json())
      .then((data) => {
        console.log(data);
        // return data;
        data.forEach((item) => {
          const div = document.createElement("div");
          const span = document.createElement("span");
          const p = document.createElement("p");
          const span2 = document.createElement("span");

          div.className = "bg-light-green";
          div.style.padding = "15px";

          span.innerHTML = `${item.name} says...`;
          span.className = "font-bold";
          span2.className = "indent font-semiregular";
          span2.innerHTML = `Rating: ${item.rating} | Recommended: ${
            item.recommended ? "YES" : "NO"
          }`;
          p.className = "indent";
          p.innerText = `${item.comment}`;
          div.appendChild(span);
          div.appendChild(p);
          div.appendChild(span2);
          section.appendChild(div);
        });
      });
  </script>
</html>
